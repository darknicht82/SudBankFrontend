<div class="modal-overlay" *ngIf="isVisible" (click)="closeModal()">
  <div class="modal" (click)="$event.stopPropagation()">
    
    <div class="modal-header">
      <div class="header-content">
        <span class="operation-icon"></span>
        <h3 class="modal-title">Crear Nuevo Registro L03</h3>
      </div>
      <button class="close-button" (click)="closeModal()" type="button">
        <span>&times;</span>
      </button>
    </div>

    <div class="modal-body">
      <form [formGroup]="newEditRecordForm" (ngSubmit)="onSubmit()" class="w-100">

        <div class="row g-2">
          <div class="col-md-6">
            <label for="codigoTipoIdentificacionEmisor" class="form-label">
              Tipo Identificaci贸n Emisor 
              <span class="text-danger">*</span>
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="R = Nacional, X = Extranjero">
              </i>
            </label>
            <select 
              id="codigoTipoIdentificacionEmisor" 
              class="form-select"
              formControlName="codigoTipoIdentificacionEmisor">
              <option [ngValue]="null" disabled selected>Seleccione uno(a)</option>
              <option *ngFor="let item of arrayTipoIdentificacionEmisor" [ngValue]="item">
                {{ item.descripcion }}
              </option>
            </select>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              R = Nacional, X = Extranjero
            </small>
            <div *ngIf="isInvalid('codigoTipoIdentificacionEmisor')" class="text-danger small mt-1">
              Campo obligatorio
            </div>
          </div>

          <div class="col-md-6">
            <label for="codigoIdentificacionEmisor" class="form-label">
              Identificaci贸n del Emisor 
              <span class="text-danger">*</span>
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="RUC para nacionales, c贸digo tabla 164 para extranjeros">
              </i>
            </label>
            <select 
              id="codigoIdentificacionEmisor" 
              class="form-select"
              formControlName="codigoIdentificacionEmisor">
              <option [ngValue]="null" disabled selected>Seleccione uno(a)</option>
              <option *ngFor="let item of arrayIdentificacionEmisor" [ngValue]="item">
                {{ item.descripcion }}
              </option>
            </select>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              RUC para nacionales, c贸digo tabla 164 para extranjeros
            </small>
            <div *ngIf="isInvalid('codigoIdentificacionEmisor')" class="text-danger small mt-1">
              Campo obligatorio
            </div>
          </div>

          <div class="col-md-6">
            <label for="numeroTitulo" class="form-label">
              N煤mero de T铆tulo 
              <span class="text-danger">*</span>
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Numeraci贸n asignada por el emisor (m谩ximo 20 caracteres)">
              </i>
            </label>
            <input type="text" id="numeroTitulo" class="form-control" formControlName="numeroTitulo" 
                   maxlength="20" placeholder="Ej: 154010100001121000" />
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Numeraci贸n asignada por el emisor (m谩ximo 20 caracteres)
            </small>
            <div *ngIf="isInvalid('numeroTitulo')" class="text-danger small mt-1">
              Campo obligatorio
            </div>
          </div>          

          <div class="col-md-6">
            <label for="fechaEmision" class="form-label">
              Fecha de Emisi贸n 
              <span class="text-danger">*</span>
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Fecha de emisi贸n del bono o contrataci贸n del derivado">
              </i>
            </label>
            <input type="date" id="fechaEmision" class="form-control" formControlName="fechaEmision" />
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Fecha de emisi贸n del bono o contrataci贸n del derivado
            </small>
            <div *ngIf="isInvalid('fechaEmision')" class="text-danger small mt-1">
              Campo obligatorio
            </div>
          </div>

          <div class="col-md-6">
            <label for="fechaCompra" class="form-label">
              Fecha de Compra 
              <span class="text-danger">*</span>
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Fecha de negociaci贸n (fecha valor)">
              </i>
            </label>
            <input type="date" id="fechaCompra" class="form-control" formControlName="fechaCompra" />
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Fecha de negociaci贸n (fecha valor)
            </small>
            <div *ngIf="isInvalid('fechaCompra')" class="text-danger small mt-1">
              Campo obligatorio
            </div>
          </div>

          <div class="col-md-6">
            <label for="fechaVencimiento" class="form-label">
              Fecha de Vencimiento 
              <span class="text-danger">*</span>
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Fecha de vencimiento del instrumento">
              </i>
            </label>
            <input type="date" id="fechaVencimiento" class="form-control" formControlName="fechaVencimiento" />
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Fecha de vencimiento del instrumento
            </small>
            <div *ngIf="isInvalid('fechaVencimiento')" class="text-danger small mt-1">
              Campo obligatorio
            </div>
          </div>

          <div class="col-md-6">
            <label for="codigoEstadoTitulo" class="form-label">
              Estado del T铆tulo 
              <span class="text-danger">*</span>
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Estado del instrumento seg煤n tabla 70">
              </i>
            </label>
            <select 
              id="codigoEstadoTitulo" 
              class="form-select"
              formControlName="codigoEstadoTitulo">
              <option [ngValue]="null" disabled selected>Seleccione uno(a)</option>
              <option *ngFor="let item of arrayEstadoTitulo" [ngValue]="item">
                {{ item.descripcion }}
              </option>
            </select>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Estado del instrumento seg煤n tabla 70
            </small>
            <div *ngIf="isInvalid('codigoEstadoTitulo')" class="text-danger small mt-1">
              Campo obligatorio
            </div>
          </div>

          <div class="col-md-6">
            <label for="codigoCategoriaInversion" class="form-label">
              Categor铆a de Inversi贸n 
              <span class="text-danger">*</span>
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Clasificaci贸n contable seg煤n tabla 67">
              </i>
            </label>
            <select 
              id="codigoCategoriaInversion" 
              class="form-select"
              formControlName="codigoCategoriaInversion">
              <option [ngValue]="null" disabled selected>Seleccione uno(a)</option>
              <option *ngFor="let item of arrayCategoriaInversion" [ngValue]="item">
                {{ item.descripcion }}
              </option>
            </select>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Clasificaci贸n contable seg煤n tabla 67
            </small>
            <div *ngIf="isInvalid('codigoCategoriaInversion')" class="text-danger small mt-1">
              Campo obligatorio
            </div>
          </div>

          <div class="col-md-6">
            <label for="codigoRangoVencimiento" class="form-label">
              Rango de Vencimiento 
              <span class="text-danger">*</span>
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Rango de vencimiento seg煤n tabla 68">
              </i>
            </label>
            <select 
              id="codigoRangoVencimiento" 
              class="form-select"
              formControlName="codigoRangoVencimiento">
              <option [ngValue]="null" disabled selected>Seleccione uno(a)</option>
              <option *ngFor="let item of arrayRangoVencimiento" [ngValue]="item">
                {{ item.descripcion }}
              </option>
            </select>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Rango de vencimiento seg煤n tabla 68
            </small>
            <div *ngIf="isInvalid('codigoRangoVencimiento')" class="text-danger small mt-1">
              Campo obligatorio
            </div>
          </div>

        </div>

        <hr class="separator" />

        <div class="row g-2">
          <div class="col-md-6">
            <label for="tasaInteresNominal" class="form-label">
              Tasa Inter茅s Nominal 
              <span class="text-danger">*</span>
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Tasa actual en formato num茅rico (ej: 0.0255 = 2.55%). Rango: 0.0000-1.0000">
              </i>
            </label>
            <input id="tasaInteresNominal" class="form-control" formControlName="tasaInteresNominal" type="number"
              step="0.0001"
              min="0"
              max="1"
              placeholder="Ej: 0.0255"/>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Formato num茅rico (0.0000-1.0000). Ejemplo: 0.0255 = 2.55%
            </small>
            <div *ngIf="isInvalid('tasaInteresNominal')" class="text-danger small mt-1">
              Campo obligatorio (0-1)
            </div>
          </div>  

          <div class="col-md-6">
            <label for="montoInteresesUsd" class="form-label">
              Monto de Intereses (USD) 
              <span class="text-danger">*</span>
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Intereses pendientes de cobro en USD">
              </i>
            </label>
            <input id="montoInteresesUsd"
                  type="number"
                  step="0.01"
                  min="0"
                  max="9999999999999.99"
                  formControlName="montoInteresesUsd" class="form-control" 
                  placeholder="Ej: 1500.50"/>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Intereses pendientes de cobro en USD. Rango: 0.00 - 9,999,999,999,999.99
            </small>
            <div *ngIf="isInvalid('montoInteresesUsd')" class="text-danger small mt-1">
              Campo obligatorio (0-9999999999999.99)
            </div>
          </div>

          <div class="col-md-6">
            <label for="valorLibrosUsd" class="form-label">
              Valor en Libros (USD)
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Valor contable registrado en USD">
              </i>
            </label>
            <input id="valorLibrosUsd"
                  type="number"
                  step="0.01"
                  min="0"
                  max="9999999999999.99"
                  formControlName="valorLibrosUsd" class="form-control" 
                  placeholder="Ej: 100000.00"/>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Valor contable registrado en USD
            </small>
          </div>

          <div class="col-md-6">
            <label for="precioMercado" class="form-label">
              Precio de Mercado
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Cotizaci贸n en formato num茅rico (ej: 0.9945 = 99.45%)">
              </i>
            </label>
            <input id="precioMercado"
                  type="number"
                  step="0.0001"
                  min="0"
                  max="1"
                  formControlName="precioMercado" class="form-control" 
                  placeholder="Ej: 0.9945"/>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Cotizaci贸n en formato num茅rico (ej: 0.9945 = 99.45%)
            </small>
          </div>

          <div class="col-md-6">
            <label for="fechaValorMercado" class="form-label">
              Fecha Valor de Mercado
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Fecha de la cotizaci贸n de mercado utilizada">
              </i>
            </label>
            <input type="date" id="fechaValorMercado" class="form-control" formControlName="fechaValorMercado" />
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Fecha de la cotizaci贸n de mercado utilizada
            </small>
          </div>

          <div class="col-md-6">
            <label for="valorMercadoUsd" class="form-label">
              Valor de Mercado (USD)
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Valor de mercado calculado en USD">
              </i>
            </label>
            <input id="valorMercadoUsd"
                  type="number"
                  step="0.01"
                  min="0"
                  max="9999999999999.99"
                  formControlName="valorMercadoUsd" class="form-control" 
                  placeholder="Ej: 99500.00"/>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Valor de mercado calculado en USD
            </small>
          </div>

          <div class="col-md-6">
            <label for="codigoFuenteInfoMercado" class="form-label">
              Fuente de Informaci贸n de Mercado
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Fuente de la informaci贸n de mercado seg煤n tabla 69">
              </i>
            </label>
            <select 
              id="codigoFuenteInfoMercado" 
              class="form-select"
              formControlName="codigoFuenteInfoMercado">
              <option [ngValue]="null" disabled selected>Seleccione uno(a)</option>
              <option *ngFor="let item of arrayFuenteInfoMercado" [ngValue]="item">
                {{ item.descripcion }}
              </option>
            </select>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Fuente de la informaci贸n de mercado seg煤n tabla 69
            </small>
          </div>

          <div class="col-md-6">
            <label for="tasaRetornoTir" class="form-label">
              Tasa de Retorno (TIR)
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Tasa interna de retorno en formato num茅rico (ej: 0.0255 = 2.55%)">
              </i>
            </label>
            <input id="tasaRetornoTir"
                  type="number"
                  step="0.0001"
                  min="0"
                  max="1"
                  formControlName="tasaRetornoTir" class="form-control" 
                  placeholder="Ej: 0.0255"/>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Tasa interna de retorno en formato num茅rico (ej: 0.0255 = 2.55%)
            </small>
          </div>

          <div class="col-md-6">
            <label for="valorPresenteUsd" class="form-label">
              Valor Presente (USD)
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Valor presente calculado en USD">
              </i>
            </label>
            <input id="valorPresenteUsd"
                  type="number"
                  step="0.01"
                  min="0"
                  max="9999999999999.99"
                  formControlName="valorPresenteUsd" class="form-control" 
                  placeholder="Ej: 98000.00"/>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Valor presente calculado en USD
            </small>
          </div>

          <div class="col-md-6">
            <label for="provisionRequerida" class="form-label">
              Provisi贸n Requerida
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Provisi贸n requerida seg煤n normativa">
              </i>
            </label>
            <input id="provisionRequerida"
                  type="number"
                  step="0.01"
                  min="0"
                  max="9999999999999.99"
                  formControlName="provisionRequerida" class="form-control" 
                  placeholder="Ej: 5000.00"/>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Provisi贸n requerida seg煤n normativa
            </small>
          </div>

          <div class="col-md-6">
            <label for="provisionConstituida" class="form-label">
              Provisi贸n Constituida
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Provisi贸n ya constituida en libros">
              </i>
            </label>
            <input id="provisionConstituida"
                  type="number"
                  step="0.01"
                  min="0"
                  max="9999999999999.99"
                  formControlName="provisionConstituida" class="form-control" 
                  placeholder="Ej: 3000.00"/>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Provisi贸n ya constituida en libros
            </small>
          </div>

          <div class="col-md-6">
            <label for="gananciasPerdidasPeriodo" class="form-label">
              Ganancias/P茅rdidas del Per铆odo
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Ganancias o p茅rdidas del per铆odo actual">
              </i>
            </label>
            <input id="gananciasPerdidasPeriodo"
                  type="number"
                  step="0.01"
                  min="0"
                  max="9999999999999.99"
                  formControlName="gananciasPerdidasPeriodo" class="form-control" 
                  placeholder="Ej: 1500.00"/>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Ganancias o p茅rdidas del per铆odo actual
            </small>
          </div>

          <div class="col-md-6">
            <label for="codigoCalificacionRiesgo" class="form-label">
              C贸digo Calificaci贸n Riesgo
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Calificaci贸n de riesgo seg煤n tabla 65">
              </i>
            </label>
            <select 
              id="codigoCalificacionRiesgo" 
              class="form-select"
              formControlName="codigoCalificacionRiesgo">
              <option [ngValue]="null" disabled selected>Seleccione uno(a)</option>
              <option *ngFor="let item of arrayCalificacionRiesgo" [ngValue]="item">
                {{ item.descripcion }}
              </option>
            </select>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Calificaci贸n de riesgo seg煤n tabla 65
            </small>
          </div>

          <div class="col-md-6">
            <label for="codigoCategoriaCalificacion" class="form-label">
              C贸digo Categor铆a Calificaci贸n
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Categor铆a de calificaci贸n seg煤n tabla 169">
              </i>
            </label>
            <select 
              id="codigoCategoriaCalificacion" 
              class="form-select"
              formControlName="codigoCategoriaCalificacion">
              <option [ngValue]="null" disabled selected>Seleccione uno(a)</option>
              <option *ngFor="let item of arrayCategoriaCalificacion" [ngValue]="item">
                {{ item.descripcion }}
              </option>
            </select>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Categor铆a de calificaci贸n seg煤n tabla 169
            </small>
          </div>

          <div class="col-md-6">
            <label for="codigoCalificadoraRiesgo" class="form-label">
              C贸digo Calificadora Riesgo
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Calificadora de riesgo seg煤n tabla 66">
              </i>
            </label>
            <select 
              id="codigoCalificadoraRiesgo" 
              class="form-select"
              formControlName="codigoCalificadoraRiesgo">
              <option [ngValue]="null" disabled selected>Seleccione uno(a)</option>
              <option *ngFor="let item of arrayCalificadoraRiesgo" [ngValue]="item">
                {{ item.descripcion }}
              </option>
            </select>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Calificadora de riesgo seg煤n tabla 66
            </small>
          </div>

          <!-- <div class="col-md-6">
            <label for="valorFondoInversionUsd">Valor del Fondo de Inversi贸n (USD)</label>
            <input id="valorFondoInversionUsd"
                  type="number"
                  step="0.01"
                  min="0"
                  max="9999999999999.99"
                  formControlName="valorFondoInversionUsd" />
          </div> -->

        </div>

        <hr class="separator" />

        <div class="row g-3">         

          <div class="col-md-6">
            <label for="fechaUltimaCalificacion" class="form-label">
              Fecha de ltima Calificaci贸n
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Fecha de la 煤ltima calificaci贸n de riesgo">
              </i>
            </label>
            <input type="date" id="fechaUltimaCalificacion" class="form-control" formControlName="fechaUltimaCalificacion" />
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Fecha de la 煤ltima calificaci贸n de riesgo
            </small>
          </div>

          <div class="col-md-6">
            <label for="fechaLiquidacionVenta" class="form-label">
              Fecha de Liquidaci贸n o Venta
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Fecha de liquidaci贸n o venta del t铆tulo">
              </i>
            </label>
            <input type="date" id="fechaLiquidacionVenta" class="form-control" formControlName="fechaLiquidacionVenta" />
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Fecha de liquidaci贸n o venta del t铆tulo
            </small>
          </div>

          <div class="col-md-6">
            <label for="precioLiquidacionVenta" class="form-label">
              Precio Liquidaci贸n de Venta
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Precio de liquidaci贸n o venta del t铆tulo">
              </i>
            </label>
            <input type="text" id="precioLiquidacionVenta" class="form-control" formControlName="precioLiquidacionVenta" 
                   placeholder="Ej: 0.9950"/>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Precio de liquidaci贸n o venta del t铆tulo
            </small>
          </div>

          <div class="col-md-6">
            <label for="valorFondoInversionUsd" class="form-label">
              Valor Fondo Inversi贸n (USD)
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Valor del fondo de inversi贸n en USD">
              </i>
            </label>
            <input id="valorFondoInversionUsd" type="number"
                  step="0.01"
                  min="0"
                  max="9999999999999.99" class="form-control" formControlName="valorFondoInversionUsd" 
                  placeholder="Ej: 50000.00"/>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Valor del fondo de inversi贸n en USD
            </small>
          </div>

        </div>

        <hr class="separator" />

        <div class="row g-3">
     
          <div class="col-md-6">
            <label for="codigoFondoInversion" class="form-label">
              C贸digo Fondo de Inversi贸n
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Fondo de inversi贸n seg煤n tabla 79">
              </i>
            </label>
            <select 
              id="codigoFondoInversion" 
              class="form-select"
              formControlName="codigoFondoInversion">
              <option [ngValue]="null" disabled selected>Seleccione uno(a)</option>
              <option *ngFor="let item of arrayFondoInversion" [ngValue]="item">
                {{ item.descripcion }}
              </option>
            </select>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Fondo de inversi贸n seg煤n tabla 79
            </small>
          </div>

          <div class="col-md-6">
            <label for="codigoTipoIdentificacionCustodio" class="form-label">
              C贸digo Tipo Identificaci贸n Custodio
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Tipo de identificaci贸n del custodio seg煤n tabla 4">
              </i>
            </label>
            <select 
              id="codigoTipoIdentificacionCustodio" 
              class="form-select"
              formControlName="codigoTipoIdentificacionCustodio">
              <option [ngValue]="null" disabled selected>Seleccione uno(a)</option>
              <option *ngFor="let item of arrayTipoIdentificacionCustodio" [ngValue]="item">
                {{ item.descripcion }}
              </option>
            </select>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Tipo de identificaci贸n del custodio seg煤n tabla 4
            </small>
          </div>

          <div class="col-md-6">
            <label for="codigoIdentificacionCustodio" class="form-label">
              C贸digo Identificaci贸n Custodio
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Identificaci贸n del custodio seg煤n tabla 164">
              </i>
            </label>
            <select 
              id="codigoIdentificacionCustodio" 
              class="form-select"
              formControlName="codigoIdentificacionCustodio">
              <option [ngValue]="null" disabled selected>Seleccione uno(a)</option>
              <option *ngFor="let item of arrayIdentificacionCustodio" [ngValue]="item">
                {{ item.descripcion }}
              </option>
            </select>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Identificaci贸n del custodio seg煤n tabla 164
            </small>
          </div>

          <div class="col-md-6">
            <label for="codigoCalificacionRiesgoCustodio" class="form-label">
              C贸digo Calificaci贸n Riesgo Custodio
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Calificaci贸n de riesgo del custodio seg煤n tabla 65">
              </i>
            </label>
            <select 
              id="codigoCalificacionRiesgoCustodio" 
              class="form-select"
              formControlName="codigoCalificacionRiesgoCustodio">
              <option [ngValue]="null" disabled selected>Seleccione uno(a)</option>
              <option *ngFor="let item of arrayCalificacionRiesgoCustodio" [ngValue]="item">
                {{ item.descripcion }}
              </option>
            </select>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Calificaci贸n de riesgo del custodio seg煤n tabla 65
            </small>
          </div>

          <div class="col-md-6">
            <label for="codigoCalificadoraRiesgoCustodio" class="form-label">
              C贸digo Calificadora Riesgo Custodio
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="Calificadora de riesgo del custodio seg煤n tabla 66">
              </i>
            </label>
            <select 
              id="codigoCalificadoraRiesgoCustodio" 
              class="form-select"
              formControlName="codigoCalificadoraRiesgoCustodio">
              <option [ngValue]="null" disabled selected>Seleccione uno(a)</option>
              <option *ngFor="let item of arrayCalificadoraRiesgoCustodio" [ngValue]="item">
                {{ item.descripcion }}
              </option>
            </select>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              Calificadora de riesgo del custodio seg煤n tabla 66
            </small>
          </div>

          <div class="col-md-6">
            <label for="codigoSubsidiaria" class="form-label">
              C贸digo Subsidiaria
              <i class="bi bi-info-circle text-info ms-1" 
                 data-bs-toggle="tooltip" 
                 data-bs-placement="top" 
                 title="C贸digo de la subsidiaria">
              </i>
            </label>
            <input type="text" id="codigoSubsidiaria" class="form-control" formControlName="codigoSubsidiaria" 
                   placeholder="Ej: SUB001"/>
            <small class="form-text text-muted">
              <i class="bi bi-info-circle"></i>
              C贸digo de la subsidiaria
            </small>
          </div>

        </div>

      </form>
    </div>

    <div class="modal-footer">
      <div class="form-validation-info" *ngIf="newEditRecordForm.invalid && formSubmitted">
        <small class="text-danger">
          <i class="bi bi-exclamation-triangle"></i>
          Por favor complete todos los campos obligatorios
        </small>
      </div>
      <button type="submit" class="btn btn-primary" [disabled]="newEditRecordForm.invalid" (click)="onSubmit()">
        <i class="bi bi-check"></i> Guardar Registro
      </button>
      <button type="button" (click)="closeModal()" class="btn btn-secondary">
        <i class="bi bi-x"></i> Cancelar
      </button>
    </div>

  </div>
</div>