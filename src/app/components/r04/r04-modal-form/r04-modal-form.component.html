<!-- Modal del Formulario R04 -->
<div class="modal-overlay" *ngIf="isVisible" (click)="closeModal()">
    <div class="modal" (click)="$event.stopPropagation()">

        <!-- Header -->
        <div class="modal-header">
            <div class="header-content">
                <span class="operation-icon"></span>
                <h3 class="modal-title">Crear Nuevo Registro R04</h3>
            </div>
            <button class="close-button" (click)="closeModal()" type="button">
                <span>&times;</span>
            </button>
        </div>

        <!-- Body -->
        <div class="modal-body">
            <form [formGroup]="r04Form" (ngSubmit)="onSubmit()" class="w-100">

                <!-- Secci贸n: T铆tulo -->
                <h5 class="mt-3 mb-2 border-bottom pb-1">T铆tulo</h5>
                <div class="row g-2">
                    <!-- Tipo Identificaci贸n -->
                    <div class="col-md-6">
                        <label for="tipoIdentificacion" class="form-label">Tipo de Identificaci贸n</label>
                        <select id="tipoIdentificacion" class="form-select" formControlName="tipoIdentificacion">
                            <option [ngValue]="null" disabled selected>Seleccione un tipo</option>
                            <option *ngFor="let item of arrayTipoIdentificacion" [ngValue]="item">
                                {{ item.descripcion }}
                            </option>
                        </select>
                        <div *ngIf="isInvalid('tipoIdentificacion')" class="text-danger small mt-1">
                            Escoga un tipo de identificaci贸n
                        </div>
                    </div>
                    <!-- Identificaci贸n del sujeto -->
                    <div class="col-md-6">
                        <label for="identificacionSujeto" class="form-label">Identificaci贸n del sujeto</label>
                        <input id="identificacionSujeto" class="form-control" formControlName="identificacionSujeto"
                            type="number" />
                        <div *ngIf="isInvalid('identificacionSujeto')" class="text-danger small mt-1">
                            La identificaci贸n es obligatoria
                        </div>
                    </div>
                </div>

                <div class="row g-2">
                    <!-- N煤mero de operaci贸n -->
                    <div class="col-md-6">
                        <label for="numeroOperacion" class="form-label">N煤mero de operaci贸n</label>
                        <input id="numeroOperacion" class="form-control" formControlName="numeroOperacion"
                            type="number" />
                        <div *ngIf="isInvalid('numeroOperacion')" class="text-danger small mt-1">
                            El n煤mero de operaci贸n es obligatorio
                        </div>
                    </div>
                    <!-- D铆as de morosidad -->
                    <div class="col-md-6">
                        <label for="diasMorosidad" class="form-label">D铆as de morosidad</label>
                        <input id="diasMorosidad" class="form-control" formControlName="diasMorosidad" type="number" />
                        <div *ngIf="isInvalid('diasMorosidad')" class="text-danger small mt-1">
                            Los d铆as de morosidad son obligatorios
                        </div>
                    </div>
                </div>

            </form>
        </div>

        <!-- Footer -->
        <div class="modal-footer">
            <button type="submit" class="btn btn-primary" [disabled]="r04Form.invalid" (click)="onSubmit()">
                <i class="bi bi-check"></i> Guardar Registro
            </button>
            <button type="button" (click)="closeModal()" class="btn btn-secondary">
                <i class="bi bi-x"></i> Cancelar
            </button>
        </div>

    </div>
</div>